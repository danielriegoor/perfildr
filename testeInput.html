<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./testeInput.css" />
    <title>Teste de API de Geolocation</title>
</head>
<body>
  <h1>Localização atual:</h1>
  <p> Clique no botão para que sua localização seja exibida </p>
  <div id="demo" style="width: 100%; max-width: 600px; height: 400px; border:
  1px solid #ccc; margin-top: 10px;">O mapa da sua localização será exibido aqui...!</div>
  <br>
  <p id="cntBtn"><button onclick="getLocation()">Exibir localização</button></p>

<script>

  const x = document.getElementById("demo");
  
  const showPosition = (position) => {
    const lat = position.coords.latitude;
    const lon = position.coords.longitude;
    x.innerHTML = ` Carregando mapa da sua localização... `
    
    // const mapURL = `https://www.openstreetmap.org/export/embed.html?bbox=${lon-0.01},${lat-0.01},${lon+0.01},${lat+0.01}&layer=mapnik&marker=${lat},${lon}`;
    const mapURL = `https://maps.google.com/maps?q=${lat},${lon}&z=15&output=embed`;
    
    /* x.innerHTML = `<iframe src="${mapURL}" width="100%" height="100%" style="border:0;" allowfullscreen="" loading="lazy"></iframe>`;
    x.style.display = "block";
    x.style.marginTop = "10px";
    x.style.border = "1px solid #ccc"; */

    x.innerHTML = `<iframe src="${mapURL}" 
    width="100%" height="100%" 
    frameborder="0" scrollinng="no"
    marginheight="0" marginwidth="0"
    style="border:0;" allowfullscreen="" loading="lazy"></iframe>`;
    
  };


  const getLocation = () => {

    x.innerHTML = "Obtendo sua localização... Por favor, autorize o acesso à localização do seu dispositivo.";
    navigator.geolocation ? 
    navigator.geolocation.getCurrentPosition(showPosition)
    : (x.innerHTML = "Geolocation is not supported by this browser.");
    };



</script>
</body>
</html>